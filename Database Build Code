CREATE TABLE `CS2420`.`PatientDirectory` (
  `PatientID` INT NOT NULL,
  `First` VARCHAR(45) NULL,
  `Last` VARCHAR(45) NULL,
  `Sex` VARCHAR(45) NULL,
  `DoB` VARCHAR(45) NULL,
  `PCPID` INT NULL,
  `Address` VARCHAR(45) NULL,
  `City` VARCHAR(45) NULL,
  `SSN` INT NULL,
  `ContactPhone` INT NULL,
  `ContactEmail` VARCHAR(45) NULL,
  `Password` VARCHAR(45) NULL,
  `EmergencyContactName` VARCHAR(45) NULL,
  `EmergencyContactPhone` INT NULL,
  PRIMARY KEY (`PatientID`));
  
CREATE TABLE `CS2420`.`PhysicianDirectory` (
  `PhysicianID` INT NOT NULL,
  `First` VARCHAR(45) NULL,
  `Last` VARCHAR(45) NULL,
  `Sex` VARCHAR(45) NULL,
  `DoB` VARCHAR(45) NULL,
  `Address` VARCHAR(45) NULL,
  `City` VARCHAR(45) NULL,
  `Specialty` VARCHAR(45) NULL,
  `Resident/Attending` VARCHAR(45) NULL,
  `ContactPhone` INT NULL,
  `ContactEmail` VARCHAR(45) NULL,
  `Password` VARCHAR(45) NULL,
  PRIMARY KEY (`PhysicianID`));

CREATE TABLE PCPDirectory (
    PCPID INT NOT NULL,
    PhysicianID INT NOT NULL,
    PRIMARY KEY (PCPID),
    FOREIGN KEY (PhysicianID) REFERENCES PhysicianDirectory(PhysicianID)
);

CREATE TABLE AppointmentDirectory (
    AppointmentID INT NOT NULL,
    PatientID INT NOT NULL,
	PhysicianID INT NOT NULL,
    ApptDate VARCHAR(45) NOT NULL,
    ApptReason VARCHAR(45),
    PRIMARY KEY (AppointmentID),
	FOREIGN KEY (PatientID) REFERENCES PatientDirectory(PatientID),
    FOREIGN KEY (PhysicianID) REFERENCES PhysicianDirectory(PhysicianID)
);

CREATE TABLE BillingRecords (
    PatientID INT NOT NULL,
    Insurance VARCHAR(45),
	FOREIGN KEY (PatientID) REFERENCES PatientDirectory(PatientID)
);

CREATE TABLE BillHistory (
	BillID INT NOT NULL,
    PatientID INT NOT NULL,
    DateIssued VARCHAR(45),
    DateDue VARCHAR(45),
    AmountDue INT,
    AmountPaid INT,
    Reason VARCHAR(45),
    PRIMARY KEY (BillID),
	FOREIGN KEY (PatientID) REFERENCES PatientDirectory(PatientID)
);

CREATE TABLE MedicationRecords (
    PatientID INT NOT NULL,
    Medication VARCHAR(45),
	FOREIGN KEY (PatientID) REFERENCES PatientDirectory(PatientID)
);

CREATE TABLE AllergyRecords (
    PatientID INT NOT NULL,
    Allergy VARCHAR(45),
	FOREIGN KEY (PatientID) REFERENCES PatientDirectory(PatientID)
);

CREATE TABLE MedicalRecords (
    PatientID INT NOT NULL,
    Diagnosis VARCHAR(45),
    Notes VARCHAR(200),
	FOREIGN KEY (PatientID) REFERENCES PatientDirectory(PatientID)
);

  ALTER TABLE PatientDirectory ADD FOREIGN KEY (PCPID) REFERENCES PCPDirectory (PCPID);
